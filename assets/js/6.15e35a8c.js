(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{207:function(t,s,e){"use strict";e.r(s);var o=e(0),a=Object(o.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"advanced"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#advanced"}},[t._v("#")]),t._v(" Advanced "),e("Badge",{attrs:{text:"v1.2.0"}})],1),t._v(" "),e("h2",{attrs:{id:"options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),e("p",[t._v("List of available options / customizations")]),t._v(" "),e("h4",{attrs:{id:"gaid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gaid"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v("gaID")])]),t._v(" "),e("Badge",{attrs:{type:"warning",text:"mandatory"}})],1),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Type")]),t._v(": String")]),t._v(" "),e("li",[e("strong",[t._v("Description")]),t._v(": The Google Analytics identifier. It should looks like this "),e("code",[t._v("UA-XXXXXXXX-X")]),t._v(".")])]),t._v(" "),e("h4",{attrs:{id:"builtin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#builtin"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v("builtin")])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Default")]),t._v(": "),e("code",[t._v("true")])]),t._v(" "),e("li",[e("strong",[t._v("Type")]),t._v(": "),e("code",[t._v("Boolean")])]),t._v(" "),e("li",[e("strong",[t._v("Description")]),t._v(": Defines if you will be using the built-in UI component.")])]),t._v(" "),e("h4",{attrs:{id:"mandatory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mandatory"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v("mandatory")])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Default")]),t._v(": "),e("code",[t._v("false")])]),t._v(" "),e("li",[e("strong",[t._v("Type")]),t._v(": "),e("code",[t._v("Boolean")])]),t._v(" "),e("li",[e("strong",[t._v("Description")]),t._v(": Defines if the user will have to accept cookie deposit to stay on website.")])]),t._v(" "),e("h4",{attrs:{id:"bgcolor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bgcolor"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v("bgColor")])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Default")]),t._v(": "),e("code",[t._v("false")])]),t._v(" "),e("li",[e("strong",[t._v("Type")]),t._v(": "),e("code",[t._v("String")])]),t._v(" "),e("li",[e("strong",[t._v("Description")]),t._v(": Defines built-in component background.")])]),t._v(" "),e("h4",{attrs:{id:"textcolor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#textcolor"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v("textColor")])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Default")]),t._v(": "),e("code",[t._v("false")])]),t._v(" "),e("li",[e("strong",[t._v("Type")]),t._v(": "),e("code",[t._v("String")])]),t._v(" "),e("li",[e("strong",[t._v("Description")]),t._v(": Defines built-in component text color.")])]),t._v(" "),e("h4",{attrs:{id:"customlocales"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customlocales"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v("customLocales")])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Default")]),t._v(": "),e("code",[t._v("null")])]),t._v(" "),e("li",[e("strong",[t._v("Type")]),t._v(": "),e("code",[t._v("JSON")])]),t._v(" "),e("li",[e("strong",[t._v("Description")]),t._v(": Defines built-in component texts. It as to follow the "),e("a",{attrs:{href:"#customize-built-in-ui"}},[t._v("given format")]),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),e("h4",{attrs:{id:"options-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options-2"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v(".options")])])]),t._v(" "),e("p",[t._v("Access the object holding options")]),t._v(" "),e("h4",{attrs:{id:"start"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#start"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v(".start()")])])]),t._v(" "),e("p",[t._v("This function simply calls the google analytics provided script that will deposit cookies in the browser to track audience.")]),t._v(" "),e("h4",{attrs:{id:"accept"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#accept"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v(".accept()")])])]),t._v(" "),e("p",[t._v("This function sets a cookie that tells that the user has given his consent for your app to use Google Analytics. Then the "),e("code",[t._v(".start()")]),t._v(" function is called to run Google's official script. "),e("a",{attrs:{href:"https://developers.google.com/analytics/devguides/collection/analyticsjs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Official docs"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"reject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reject"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v(".reject()")])])]),t._v(" "),e("p",[t._v("This function sets a cookie that tells that the user rejected your request to use cookies for tracking purposes. It also deletes existing tracking cookies and sets a window property blocking the Google's script to send data. Get more info in "),e("a",{attrs:{href:"https://developers.google.com/analytics/devguides/collection/analyticsjs/user-opt-out",target:"_blank",rel:"noopener noreferrer"}},[t._v("official docs"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h4",{attrs:{id:"checkconsent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#checkconsent"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v(".checkConsent()")])])]),t._v(" "),e("p",[t._v("This function checks if the browser is already holding any consent cookie for your app/web site.")]),t._v(" "),e("h4",{attrs:{id:"processconsent-callback-optionnal"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#processconsent-callback-optionnal"}},[t._v("#")]),t._v(" "),e("strong",[e("code",[t._v(".processConsent(callback[optionnal])")])])]),t._v(" "),e("p",[t._v("This function brings the logic behing consent handling. It checks the trackablity of the client using the following conditions:")]),t._v(" "),e("ul",[e("li",[t._v("If there is a consent cookie set on "),e("code",[t._v("false")]),t._v(" or if the browser exposes a "),e("code",[t._v("doNotTrack")]),t._v(" value equal to "),e("code",[t._v("yes")]),t._v(" or "),e("code",[t._v("1")]),t._v(" in the navigator global object. In that case, the "),e("code",[t._v(".reject()")]),t._v(" method is called.")]),t._v(" "),e("li",[t._v("If there is a consent cookie set on "),e("code",[t._v("true")]),t._v(", the "),e("code",[t._v(".start()")]),t._v(" method is called.")]),t._v(" "),e("li",[t._v("If the browser exposes a "),e("code",[t._v("doNotTrack")]),t._v(" value equal to "),e("code",[t._v("no")]),t._v(" or "),e("code",[t._v("0")]),t._v(" in the navigator global object, a "),e("code",[t._v("true")]),t._v(" consent cookie is stored and the "),e("code",[t._v(".start()")]),t._v(" method is called.")]),t._v(" "),e("li",[t._v("If none of this conditions is verified and:\n"),e("ul",[e("li",[t._v("you are using the built-in component, a Vuex action is dispatched to mutate UI's state, rendering a notification component prompting for user's consent.")]),t._v(" "),e("li",[t._v("you are not using the built-in component, you can pass a callback to this function to add your own UI logic.")])])])]),t._v(" "),e("h2",{attrs:{id:"accessing-plugin-inside-vue-instance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#accessing-plugin-inside-vue-instance"}},[t._v("#")]),t._v(" Accessing plugin inside Vue instance")]),t._v(" "),e("p",[t._v("As the plugin is globally registered, you can access its propreties and methods like so:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$handyga"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proprety\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// OR")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$handyga"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("method")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h2",{attrs:{id:"built-in-ui"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#built-in-ui"}},[t._v("#")]),t._v(" Built-in UI")]),t._v(" "),e("p",[t._v("To make Google Analytics integration really easy, according to RGPD requirements, the plugin has a built-in component handling consent request and cookie deposit for you.")]),t._v(" "),e("p",[t._v("Simply register this component in your main vue component. On mount, it will call the "),e("a",{attrs:{href:"#processconsent-callback-optionnal"}},[e("code",[t._v(".processConsent()")])]),t._v(" method. If the user has never been asked for consent, it will render a notification component. Otherwise, the plugin will use the stored user's choice to start tracking or not.")]),t._v(" "),e("h3",{attrs:{id:"customize-built-in-ui"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customize-built-in-ui"}},[t._v("#")]),t._v(" Customize built-in UI")]),t._v(" "),e("p",[t._v("You can customize the built-in ui its components to follow your web app design. Pass hexcodes to "),e("a",{attrs:{href:"#bgcolor"}},[e("code",[t._v("bgColor")])]),t._v(" and "),e("a",{attrs:{href:"#textcolor"}},[e("code",[t._v("textColor")])]),t._v(" options to customize colors and pass your own JSON "),e("a",{attrs:{href:"#customlocales"}},[e("code",[t._v("customLocales")])]),t._v(" to customize your cookie consent request. This plugin supports Markdown so you can full customize the built-in UI.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("If you choose to use "),e("a",{attrs:{href:"#customlocales"}},[e("code",[t._v("customLocales")])]),t._v(", you will have to keep the following format")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"notification"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"modalTitle"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"modalBody"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"actions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"accept"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"refuse"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"more"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mandatory"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"notification"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"actions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"accept"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"more"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"leave"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),e("h2",{attrs:{id:"cookies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookies"}},[t._v("#")]),t._v(" Cookies")]),t._v(" "),e("p",[t._v("To handle user consent and Google Analytics, this plugin delivers 2 types of cookies:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Consent related cookies")]),t._v(": To store user's consent, a "),e("code",[t._v("hasConsent")]),t._v(" cookie is delivered, true or false depending on user's choice. Another cookie ("),e("code",[t._v("ga-disable-YOUR-GAID")]),t._v(") is delivered if the user refuses your tracking request which disable Google's script.")]),t._v(" "),e("li",[e("strong",[t._v("Google Analytics cookies")]),t._v(": "),e("a",{attrs:{href:"https://developers.google.com/analytics/devguides/collection/analyticsjs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Official docs"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=a.exports}}]);